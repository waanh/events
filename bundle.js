(()=>{"use strict";class e{constructor(e){this.cells=e,this.currentCellIndex=null}spawn(){null!==this.currentCellIndex&&this.cells[this.currentCellIndex].classList.remove("goblin"),this.currentCellIndex=Math.floor(Math.random()*this.cells.length),this.cells[this.currentCellIndex].classList.add("goblin")}remove(){null!==this.currentCellIndex&&(this.cells[this.currentCellIndex].classList.remove("goblin"),this.currentCellIndex=null)}}const s=document.querySelector(".board"),t=document.querySelector(".score"),i=document.querySelector(".misses");new class{constructor(s,t,i){this.board=s,this.scoreElement=t,this.missElement=i,this.cells=Array.from(s.children),this.goblin=new e(this.cells),this.score=0,this.misses=0,this.timer=null,this.init()}init(){this.cells.forEach((e=>e.addEventListener("click",(e=>this.hit(e))))),this.start()}start(){this.timer=setInterval((()=>this.nextTurn()),1e3)}nextTurn(){null!==this.goblin.currentCellIndex&&(this.misses++,this.updateMisses()),this.misses>=5?this.gameOver():this.goblin.spawn()}hit(e){e.target.classList.contains("goblin")&&(this.score++,this.updateScore(),this.goblin.remove())}updateScore(){this.scoreElement.textContent=this.score}updateMisses(){this.missElement.textContent=this.misses}gameOver(){clearInterval(this.timer),alert("Game Over!")}}(s,t,i)})();